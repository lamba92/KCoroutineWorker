matrix:
  include:
  - os: windows
    language: c
    before_install:
    - choco install jdk11
    - choco install openssl.light
    script: ".\\\\gradlew check"
  - os: linux
    language: java
    jdk: openjdk11
    before_install:
    - chmod +x gradlew
    script: "./gradlew check"
  - os: osx
    language: java
    jdk: openjdk11
    before_install:
    - chmod +x gradlew
    script: "./gradlew check"
  allow_failures:
  - os: windows
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
after_success:
- |
  if ([ "$TRAVIS_BRANCH" == "master" ] || [ ! -z "$TRAVIS_TAG" ]) && [ "$TRAVIS_PULL_REQUEST" == "false" ]; then
    echo "Deploying..." && ./gradlew publish
  fi
env:
  global:
  - secure: Hrdoj1NKAdsDu7jgFbryzAGzazLq6DB4OfH7O1PygduF0jx9ie28qeA4cnLrMevbI0sLCSvUvD+GzxEtQHPaIhZVlDCuxYKBrFH9I4XjKhk7B0kixe0lqVVVC4SrTR1ugiUQTEhh0yBbmP6sR09jZYp4+utQlkIBeTj78HvI+5ALvUT/R7pZIU4eI7sByDVXlT5qfM+BGn5z2nztQdQ2dmN3zGmb+KCFG0TotNEp7UMn63Sc2n/0fto+tDSXPGzzu1NVytHDIDuEdw4wXbASk+GDDKh4zn8fD3WMeV7oP2UGeH8D2tQvxQFURrjInJ1cddlIb7F29a8RHfvmUuwtljbSmW0fK4ayGntLsKnrxFne44qjlppqtzn1PgDUGcvgRemiCWZfpMP1kk1Gs8o66TY0aavsO/6nGz9d3BEBT2NRelIphojWleuCxZ7T9aoL7BjTwF9K3Np3ZiBpAOt/niobH6M+4MAMs4+9ljvxaZIH7gmxPkWPGiwSc7ytZgUdzDAZSQmn1mvLDajTGNI0tERnS9QGl9Pt81RiahoUkahIZqCNrzS34/92KZ0wjtckuJttdgQJTzv2gdFC+pU+a6I5p9pm3cKS6yHSyokqGDx342nk7bWUjbTH7ch1uVM4FPSsl8v+wKUPhgixWG8ZwkuNy8URBKaMUs9t43gsyu4=
  - secure: FiTiYhiMKPYMlJr3qfsr8gn/3/Tk+v46MSAz/WySL/wey7riKjLjvvo/R8GSI6MS4jSzQn4SZuugyQRODHLH2JFSvy+w5SyLMcPGKH7EurBnAFUAbPP9ttobVgvNsPyFOAlCUTeh564+yaW7/1sUI9gy0Rx5dzDVuIjTIcHkF2jOT8kPFpoLVMH8+PvWEKRcE5e1If06roypHXZbhsZUy7Z1zt9BsdMpi61kj/w5lw11AwtFVuuNfahd8WmDfEQ32DAFwFE3Hr2t6ejHTNnlmu976mBw4IqifZ2x7jrdK+clM3Bx50DfXkDc8Onhq746XlZLC7eLDWqLY2BS2mav2cYJl4AIvbgyj1tB82hTW1b5oMkbVorBtb2NZMv6pm9PWm9KoSL9hd1gw2RC8GN7neoGNf52HGOxyLKYCc4B0FtcJEGTuiphuD8pcKHA70Drg8IMkG/RV5HfcEH6dQQhZ8fv56rQJRHLrY9jg5Gve3WX0EQ11SFuUG2hzGbpHUPbat0qnTs4eVh4tCUEvDir33n+qOFoWsoPsFul5PVUhdy3uAeZvF/hs1R61oBJ4Cg0vpeX7Qst0+aZW2Y0zdgab5Wudf08JZBZuL936JfB8BbMXash6OBwwB/8ulgb0rq7WykDmP9lxyMIxYeYI4NEKsuye8wSZxul/82zML1KbyY=
  - secure: fcCAeqcd8nks7WTC/X077aZc0IUvNIHliEArkj4aZKYyfrRmoSXo7ZrUxXn9T7ItRpvs9QEPMkYaiKuVwsY/ILFmvMnSwIu+rolzRJIBxDjASOeBd0V/cCdK+1hR00UYcDudqDcFNbH8I7AbQytVUnu2c7MtiGpPoHQuKr4m2CaS11Dy5SEFsqOR8dRPh8w3ObKJVQa5O1Xwu8dsneykVC8VVRrYqZ0kOKxKcuJaRwmTVNfmSI5in2jJ36glbMuhwV3c/LwmQANJDGU0d+PJoD1GxVXB8iU15c9uTgrW1YeGKW8cPrZXTiaHpPFYLmm41NNj9ms+t/AaMddvb1Z58fSBI+u18o+ziRuGSrROPRVeeaZjHLbKZeqbyt407TiN1owXm0AFNJXX1kh5yoHE/40SQRRnWJoqSXBcwX850Ydqu/g7t2HD88SsyzohwAXNvKEY6vQfDPr/2nQIxsAPtSy8P1xDu2CKVkuWWg84yD/mo6lLXgzT5p8AplOPsVVqG0TkElv+OQN+sxBk17SzKgnCZT95rtfP6VJudmLkjRVuTF41tuJyWudgnPjVP8alVCxOk+aTW18x2WjhajucWFVtIDiXsC4mEbEfIwpiZi3kIfV62+l0IzJufb72vaceLWnjopGnKoNdqCJMmbBZdQMz/PVDL6c4HNPOv9Ui6uc=
  - secure: fvIHw3C5eZJ5/qsu3j9kpP0pU8AKYUCptqxcSSKge+00IR/YQ7imLeFV1NRot4Q0HK37RXIVFvzeCIsMju2958Px8KHHi+ZariYqwAWNpzACPRsrHiTpsVQ0Y6NgZGl5N9SsEQkb+2ctb1W+mn8K3OgikbUSgN5P/O/86zWv++tv6oFZqqIkoHaXGYznTrn2Hpp7EicuFQmfOI2849wPKvN7VbfIhkclksAcHMZPYabbLUHgajrWLVGdDMokLkIG/KeRhvgOr1DDar1433lWFitKRwYw9rNXvoKM3/hosMLOdknS5IkfTnV4IbCAovCIXfI/Mw1/0GMRsKFWM+wsBz9pv1e89mKgaYoTAjOH0QdH0iazJMF4SkHboO9uV/LLzFEb6pmerOSos3f9ZJj7DtUCvC+fzL0e+XOUs2kbzzVJPEgC1AzNGlfXMXIY1G/VjKry/JKEvR/7ju3E4MgbKT3NA+KOmAcyuUBWjQw1H+DOeTSAlW8dcMutEo1/RjEX11l48uxzfQG/S3MaOxVH2ZlAhidSJfu5dxQspWL6ihXZq7Ejp9/33nWyEG3pACxf1X1lRV8XWSVfXi4elHen1ldmk0p9oIUSGfaJFUK2gDG4CSGVG6X9Or5CR9lUhrA1hEfiDeQUtPPi6miqNjlYh0y7V7xkW3H20MnXutlXHGY=
  - SIGNING_SECRETRINGFILE=./secret.gpg
before_install:
- openssl aes-256-cbc -K $encrypted_4e33f563f3da_key -iv $encrypted_4e33f563f3da_iv
  -in secret.gpg.enc -out /mnt/d/Users/lamba/OneDrive/Dev/gpg/maven\ central/secret.gpg
  -d
